<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BYOB Zero – Public Ledger</title>
<style>
body {
  font-family: sans-serif;
  margin: 20px auto;
  max-width: 600px;
  text-align: center;
}
h2 {
  text-align:center;
  margin-bottom:20px;
}
#searchInput {
  width: 100%;
  padding: 10px;
  font-size: 16px;
  margin-bottom: 20px;
}
.artifact {
  margin-bottom: 40px;
}
.artifact img {
  max-width: 100%;
  height: auto;
  border: 1px solid #ccc;
}
</style>
</head>
<body>

<h2>BYOB Zero – Public Ledger</h2>
<input type="number" id="searchInput" placeholder="Enter wallet number to search">

<div id="ledger"></div>

<script>
async function loadLedger() {
  const response = await fetch('ledger.json');
  const data = await response.json();
  const container = document.getElementById('ledger');

  data.forEach(item => {
    const div = document.createElement('div');
    div.className = 'artifact';
    div.id = 'wallet-' + item.id;
    const paddedID = String(item.id).padStart(3, '0');

    div.innerHTML = `<h4>Wallet #${paddedID}</h4>
    <img src="artifacts/${item.file}" alt="Wallet #${paddedID}">`;
    
    container.appendChild(div);
  });
}

// Search by wallet number
document.getElementById('searchInput').addEventListener('input', function() {
  const val = this.value.trim();
  const all = document.querySelectorAll('.artifact');
  all.forEach(div => div.style.display = 'block'); // reset

  if(val){
    all.forEach(div => {
      if(div.id !== 'wallet-'+val) div.style.display='none';
    });
  }
});

loadLedger();
</script>

</body>
</html>
